import{r as _,c as m,o as d,w as T,a as t,v as $,g as c,h as C,t as f,i as L,j as h,n as p,F as y,k as w,l as g,b as k,d as b,e as S,f as V,m as B,p as N}from"./index-CAND3QZF.js";import{u as R}from"./todoStore-BDq_LBkI.js";import{s as D}from"./api-Ck03PsuQ.js";const O={class:"inputBox"},A={__name:"TodoForm",emits:["add-todo"],setup(i,{emit:r}){const o=_(""),u=r,s=()=>{u("add-todo",o.value),o.value=""};return(n,e)=>(d(),m("div",O,[T(t("input",{type:"text",placeholder:"請輸入待辦事項","onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l)},null,512),[[$,o.value]]),t("a",{href:"#",onClick:c(s,["prevent"])},[...e[1]||(e[1]=[t("i",{class:"fa fa-plus"},null,-1)])])]))}},F={class:"todoList_label"},I={__name:"TodoItem",props:{todo:{type:Object,required:!0}},emits:["remove-todo"],setup(i,{emit:r}){const o=r,u=s=>{console.log(s),o("remove-todo",s)};return(s,n)=>(d(),m("li",null,[t("label",F,[T(t("input",{class:"todoList_input",type:"checkbox",value:"true","onUpdate:modelValue":n[0]||(n[0]=e=>i.todo.status=e)},null,512),[[C,i.todo.status]]),t("span",null,f(i.todo.content),1)]),t("a",{href:"#",onClick:n[1]||(n[1]=c(e=>u(i.todo.id),["prevent"]))},[...n[2]||(n[2]=[t("i",{class:"fa fa-times"},null,-1)])])]))}},M={class:"todoList_list"},j={class:"todoList_tab"},q={class:"todoList_items"},E={class:"todoList_item"},P={class:"todoList_statistics"},U=L({__name:"TodoList",props:{todos:{type:Array,required:!0}},emits:["remove-todo"],setup(i,{emit:r}){const o=i,u=r,s=_("all"),n=h(()=>{switch(s.value){case"incomplete":return o.todos.filter(l=>!l.status);case"completed":return o.todos.filter(l=>l.status);default:return o.todos}}),e=h(()=>o.todos.filter(l=>!l.status));return(l,a)=>(d(),m("div",M,[t("ul",j,[t("li",null,[t("a",{href:"#",class:p({active:s.value==="all"}),onClick:a[0]||(a[0]=c(v=>s.value="all",["prevent"]))},"全部",2)]),t("li",null,[t("a",{href:"#",class:p({active:s.value==="incomplete"}),onClick:a[1]||(a[1]=c(v=>s.value="incomplete",["prevent"]))},"待完成",2)]),t("li",null,[t("a",{href:"#",class:p({active:s.value==="completed"}),onClick:a[2]||(a[2]=c(v=>s.value="completed",["prevent"]))},"已完成",2)])]),t("div",q,[t("ul",E,[(d(!0),m(y,null,w(n.value,v=>(d(),g(I,{key:v.id,todo:v,onRemoveTodo:a[3]||(a[3]=x=>u("remove-todo",x))},null,8,["todo"]))),128))]),t("div",P,[t("p",null,f(e.value.length)+" 個未完成項目",1)])])]))}}),z={id:"todoListPage",class:"bg-half"},G={class:"todo_sm"},H={class:"conatiner todoListPage vhContainer"},J={class:"todoList_Content"},K={key:1,style:{"text-align":"center"}},Y=L({__name:"TodoListView",setup(i){const r=R(),o=_([{id:1,content:"把冰箱發霉的檸檬拿去丟",status:!1},{id:2,content:"打電話叫媽媽匯款給我",status:!0}]),u=e=>{e.trim()!==""&&o.value.push({id:Date.now(),content:e,status:!1})},s=e=>{o.value=o.value.filter(l=>l.id!==e)},n=async()=>{try{const e=await D();alert(e.data.message),document.cookie="vue3-todolist-token='';max-age=0;  ",N.push("/register")}catch(e){alert(e.response.data.message)}};return(e,l)=>{const a=S("RouterLink");return d(),m("div",z,[t("nav",null,[l[0]||(l[0]=t("h1",null,[t("a",{href:"#"},"ONLINE TODO LIST")],-1)),t("ul",null,[t("li",G,[k(a,{to:"/todolist"},{default:b(()=>[V(f(B(r).nick)+" 的代辦",1)]),_:1})]),t("li",null,[t("a",{href:"/#",onClick:c(n,["prevent"])},"登出")])])]),t("div",H,[t("div",J,[k(A,{onAddTodo:u}),o.value.length?(d(),g(U,{key:0,todos:o.value,onRemoveTodo:s},null,8,["todos"])):(d(),m("p",K,"尚無代辦事項"))])])])}}});export{Y as default};
